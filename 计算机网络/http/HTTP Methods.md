# HTTP Methods
HTTP 请求方法（也常被称为“动词”）定义了客户端希望对服务器上的资源执行的操作类型。遵循标准的语义化使用，可以让 API 更加清晰、可预测和易于维护。

### 📡 常见 HTTP 请求方法及场景

以下是几种最核心的请求方法及其典型应用场景：

#### 🔍 GET：获取资源
*   **核心语义**：从服务器**获取**指定的资源，是只读操作，不应改变服务器状态。
*   **特点**：
    *   **安全且幂等**：多次执行相同的 GET 请求，结果一致，且不会修改服务器数据。
    *   **参数在 URL**：查询参数附加在 URL 后面（如 `?id=1&name=test`）。
    *   **可被缓存**：浏览器和代理服务器可以缓存其响应，提升性能。
    *   **有长度限制**：受 URL 长度限制，不适合传输大量数据。
*   **使用场景**：
    *   查询商品列表或详情
    *   搜索结果页面
    *   获取用户信息
    *   加载网页内容

#### 📥 POST：提交/创建资源
*   **核心语义**：向服务器**提交**数据，通常用于**创建**新的资源，或触发一个可能会改变服务器状态的操作。
*   **特点**：
    *   **不安全且通常非幂等**：会修改服务器数据，多次请求可能产生不同结果（如重复提交订单会创建多个订单）。
    *   **参数在请求体 (Body)**：数据封装在请求体中，对用户不可见。
    *   **无数据大小限制**：可以传输大量数据，如文件、长文本等。
    *   **支持多种数据格式**：如 JSON、XML、表单数据、二进制文件等。
*   **使用场景**：
    *   用户注册/登录（提交账号密码）
    *   创建新文章、新订单
    *   文件上传
    *   提交复杂表单

#### 🔄 PUT：全量更新资源
*   **核心语义**：对指定资源进行**全量替换**。客户端需要提供该资源的完整数据，服务器用新数据完全替换旧数据。
*   **特点**：
    *   **不安全但幂等**：会修改服务器数据，但多次执行相同的 PUT 请求，最终资源状态是相同的（相当于反复用同一份数据覆盖）。
    *   **参数在请求体 (Body)**：与 POST 相同，数据在请求体中。
*   **使用场景**：
    *   更新用户的全部信息（姓名、邮箱、年龄等）
    *   上传一个完整的文件来替换服务器上已存在的文件

#### ✏️ PATCH：部分更新资源
*   **核心语义**：对指定资源进行**部分修改**。客户端只需提供需要更新的字段。
*   **特点**：
    *   **不安全且通常非幂等**：会修改服务器数据，多次请求可能产生不同结果（例如，对一个计数字段进行 `+1` 操作）。
    *   **参数在请求体 (Body)**：数据在请求体中。
*   **使用场景**：
    *   仅更新用户的邮箱地址
    *   修改文章的标题
    *   为某个资源点赞（更新点赞数）

#### 🗑️ DELETE：删除资源
*   **核心语义**：请求服务器**删除**指定的资源。
*   **特点**：
    *   **不安全但幂等**：会改变服务器状态（资源被移除），但多次执行相同的 DELETE 请求，结果一致（资源最终都是被删除的状态）。
*   **使用场景**：
    *   删除一条用户评论
    *   删除一个文件或图片
    *   注销账户

---

### 🔒 为什么有的公司只允许使用 GET 和 POST？

尽管 HTTP 协议定义了丰富的请求方法，但确实存在一些公司或特定环境下强制或倾向于只使用 GET 和 POST。这通常出于以下几个现实考量：

1.  **兼容性与防火墙限制**
    *   历史上，一些老旧的代理服务器、防火墙或网络基础设施可能无法正确识别或会主动拦截非 GET/POST 的请求（如 PUT、DELETE）。为了确保请求能顺利通过所有网络节点，避免不必要的排错成本，统一使用 GET 和 POST 是一种“求稳”的策略。

2.  **简化开发与维护**
    *   对于小型项目或开发团队，严格遵循 RESTful 规范（使用多种 HTTP 方法）会增加一定的设计和理解成本。统一使用 POST，可以将所有“写”操作（创建、更新、删除）都归为一类，简化了后端接口的路由配置和前端的调用方式，使代码库更统一，降低了团队成员的认知负担。

3.  **安全审计与统一处理**
    *   将所有数据修改操作都集中在 POST 方法上，便于进行统一的安全控制、日志记录和审计。例如，可以集中对所有 POST 请求实施更严格的 CSRF（跨站请求伪造）防护、参数校验和敏感词过滤，而无需为 PUT、DELETE 等方法单独配置。

#### 需要注意的误区
*   **安全性**：这种做法不应被误解为“POST 比其他方法更安全”。从传输层面看，GET 和 POST 在未使用 HTTPS 时都是明文的。POST 的“安全”在于参数不暴露在 URL 中，不会被浏览器历史、服务器日志轻易记录，但这只是相对的。真正的数据安全必须依赖 HTTPS 加密协议。

---

## QUERY
HTTP 工作组提出了一种新的方法——QUERY，该方法既能承载大量请求数据，又能保证请求的幂等性和安全性。
```
QUERY /search HTTP/1.1
Host: conardli.top
Content-Type: application/json
{
    "q": "ConardLi",
    "limit": 17,
    "sort": "desc"
}
```
与 POST 方法不同，QUERY 方法明确表示查询操作是安全的，不会改变服务器上的资源状态。这意味着，无论请求多少次，服务器资源的状态都不会因为 QUERY 请求而发生变化。