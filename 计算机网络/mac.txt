1. 第二层，数据链路层，也即 MAC 层。
MAC 的全称是 Medium Access Control，即媒体访问控制。
控制什么呢？其实就是控制在往媒体上发数据的时候，谁先发、谁后发的问题。防止发生混乱。
这个问题中的规则，学名叫多路访问。有很多算法可以解决这个问题。就像车管所管束马路上跑的车，能想的办法都想过了。
比如接下来这三种方式：
方式一：分多个车道。每个车一个车道，你走你的，我走我的。这在计算机网络里叫作信道划分；
方式二：今天单号出行，明天双号出行，轮着来。这在计算机网络里叫作轮流协议；
方式三：不管三七二十一，有事儿先出门，发现特堵，就回去。错过高峰再出。我们叫作随机接入协议。著名的以太网，用的就是这个方式。

2. MAC地址  9A-5F-D3-49-15-D8   一般是用6个字节存储即可，即48bit。

3. CRC(循环冗余检测)使用的算法是XOR异或算法。这个CRC(循环冗余检测)解决的是：在网络上传输数据出错的问题。
数据链路层不仅得加头部还得加尾部。加头部加的是源MAC地址和目标MAC地址，是为了解决这个网络包发给谁的问题。 
加尾部加的是CRC(循环冗余检测)，是为了解决这个网络包在网络上传输数据出错的问题。

4. 一个广播的网络里面接入了 N 台机器，我怎么知道每个 MAC 地址是谁呢？
这就是 ARP 协议，也就是已知 IP 地址，求 MAC 地址的协议。
为了避免每次都用 ARP 请求，机器本地也会进行 ARP 缓存。
当然机器会不断地上线下线，IP 也可能会变，所以 ARP 的 MAC 地址缓存过一段时间就会过期。

5. 如何知道目标 MAC 地址是否就是连接某个口的电脑的 MAC 地址呢？
这就需要一个能把 MAC 头拿下来，检查一下目标 MAC 地址，然后根据策略转发的设备
，这个设备显然是个二层设备，我们称为交换机。 

一台 MAC1 电脑将一个包发送给另一台 MAC2 电脑，当这个包到达交换机的时候，
一开始交换机也不知道 MAC2 的电脑在哪个口，它只能将包转发给除了来的那个口之外的其他所有的口。
这个时候交换机会干一件非常聪明的事情，就是交换机会记住，MAC1 是来自一个明确的口。
以后有包的目的地址是 MAC1 的，直接发送到这个口就可以了。

当交换机作为一个关卡一样，过了一段时间之后，就有了整个网络的一个结构了，这个时候，基本上不用广播了，
全部可以准确转发。
当然，每个机器的 IP 地址会变，所在的口也会变，因而交换机上的学习的结果，我们称为转发表，是有一个过期时间的。

6. RARP用来主动通过Mac获取IP地址，不过现在都用DHCP动态获取IP地址了。

7. 如果我们买的交换机是支持 VLAN 的，当这个交换机把二层的头取下来的时候，就能够识别 VLAN ID。
这样只有相同 VLAN 的包，才会互相转发，不同 VLAN 的包，是看不到的。这样广播问题和安全问题就都能够解决了。
广播问题（见图）：
机器 1 访问机器 2 的过程。一开始，机器 1 并不知道机器 2 的 MAC 地址，所以它需要发起一个 ARP 的广播，
这样其实交换机A的左端也会收到ARP广播报文，由于交换机 A 这个时候还是不知道机器 2 在哪个局域网，
于是将广播包又转发到局域网二，又继续广播，最终形成一个环路。

8. MTU 大小是不包含二层头部和尾部的，MTU 1500表示二层MAC帧大小不超过1518. MAC 头14 字节，尾4字节。
如果放不下，就需要分片了。